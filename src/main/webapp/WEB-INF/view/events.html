<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Title</title>
</head>
<body>
<div th:fragment="content" class="col-md-10">
    <div class="input-group">

        <span class="input-group-addon" th:text="#{volunteers.calendar.url}">Url:</span>
        <input type="text" class="form-control" th:value="${baseUrl}+@{'/api/calendar/'}+${year.id}+'/'"/>
        <a class="input-group-addon glyphicon glyphicon-question-sign mytooltip">
            <span>
                <pre>
events:
    test:
      location: ITMO
      summery: food
      description: ...
      start: 2017-08-04 16:15
      end: 2017-08-05 17:15

    test2:
      location: ITMO
      summery: eat
      description: .......
      start: 2017-08-04 15:00
      end: 2017-08-04 16:35

    test3:
       location: ITMO
       summery: test
       description: test
       start: 2017-09-03 00:00
       end: 2017-09-03 23:59
                </pre>
            </span>
        </a>
    </div>
    <textarea class="form-control" th:placeholder="#{volunteers.calendar.placeholder}" placeholder="write yaml data"
              rows="25" onblur="sendFile(this.value);" th:text="${file}"></textarea>

    <script th:inline="javascript">
        function sendFile(file) {
            var data = {
                "file": file
            };
            data[_csrf_param_name] = _csrf_token;
            $.ajax({
                type: "post",
                data: data,
                url: /*[[@{/admin/events/}]]*/"/admin/events/",
                dataType: "json",
                success: function (data) {
                    if (data.status !== "OK") {
                        console.log(data.result);
                    }
                }
            })
        }

        $(function () {
            $('#tooltip').tooltip();
        });
    </script>
</div>
</body>
</html>